// ==UserScript==
// @name         Interview buddy
// @namespace    https://github.com/vvscode/interview-buddy
// @version      Alpha-v1
// @description  Cheat online stealthily
// @run-at       document-start
// @author       Vasil @vvscode Vanchuk
// @match        https://*
// @match        *://*/*
// @icon         data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4gPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MjYiIGhlaWdodD0iNDEwIiB2aWV3Qm94PSIwIDAgODI2IDQxMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zODcuODY1IDM5OC40OThDMzg3Ljg2NSAzOTguNDk4IDM5NC4wNyA0MDkuMzE1IDQxMi44ODUgNDA5LjMxNUM0MzEuNzAxIDQwOS4zMTUgNDM4LjA1OCAzOTguOTg1IDQzOC4wNTggMzk4Ljk4NUM0MzguMDU4IDM5OC45ODUgNDIwLjM4MiA0MDEuMDk2IDQxMy4yNzIgNDAwLjc3OEM0MDYuMTc4IDQwMC40NTkgMzkzLjY2NyA0MDAuNzc5IDM4Ny44NjUgMzk4LjQ5OFpNMjM4LjkxOCAzMzQuODczQzIzOC45MTggMzM0Ljg3MyAyNjUuOTUgMzg4LjkyMyAyNzUuNjI2IDQwMy40NDZDMjc1LjYyNiA0MDMuNDQ2IDI4My42OTMgMzc4LjAzOCAyODYuNTEgMzczLjU5NEMyODYuNTEgMzczLjU5NCAyNTkuMDc1IDM0Ny4zODMgMjM4LjkxOCAzMzQuODczWk01ODYuODA1IDMzNC44NzNDNTg2LjgwNSAzMzQuODczIDU1OS43NzIgMzg4LjkyMyA1NTAuMDk1IDQwMy40NDZDNTUwLjA5NSA0MDMuNDQ2IDU0Mi4wMjkgMzc4LjAzOCA1MzkuMjEyIDM3My41OTRDNTM5LjIxMiAzNzMuNTk0IDU2Ni42NDggMzQ3LjM4MyA1ODYuODA1IDMzNC44NzNaTTEzNS4yNDcgMzU0LjY0NUMxMzUuMjQ3IDM1NC42NDUgMTY4LjcxOSAzNDMuMzQyIDE3OC4wMSAzMzguOTE1QzE3OC4wMSAzMzguOTE1IDIwMy4wMTMgMzgyLjg4NiAyMTYuNzMxIDQwMC4yMjZDMjE2LjczMSA0MDAuMjI2IDE2NC42OTQgMzY1LjEyNiAxMzUuMjQ3IDM1NC42NDVaTTY5MC40NyAzNTQuNjQ1QzY5MC40NyAzNTQuNjQ1IDY1Ny4wMDIgMzQzLjM0MiA2NDcuNzEyIDMzOC45MTVDNjQ3LjcxMiAzMzguOTE1IDYyMi43MDggMzgyLjg4NiA2MDguOTkxIDQwMC4yMjZDNjA4Ljk5MSA0MDAuMjI2IDY2MS4wMjcgMzY1LjEyNiA2OTAuNDcgMzU0LjY0NVpNMzg3LjQyOSAyNjQuNTI0QzM5Ni4zODQgMjU4LjIwMiA0MDQuOTcxIDI1MS4xNTggNDEzLjI1NSAyNDMuNDk1QzQxNy42OTkgMjQ5LjE0NiA0MzguMzA4IDI2NC41MjQgNDM4LjMwOCAyNjQuNTI0QzQzOS44MTggMjcyLjU5IDQ0NS4zNjggMjg2LjcxMSA0NDUuMzY4IDI4Ni43MTFDNDUwLjkxOSAyODEuNjYzIDQ1Ny45OCAyNjYuMDM0IDQ1Ny45OCAyNjYuMDM0QzQ3MC4wODggMjY1LjUzMSA0OTguMzExIDI1Mi45MiA0OTguMzExIDI1Mi45MkM0OTkuNTAyIDI2My45ODggNDg5LjEyMiAyNzkuODAzIDQ4NS43NjggMjgxLjg2NUM0ODIuNDE0IDI4My45MjggNDcxLjMxMiAyODUuMjE5IDQ3MS4zMTIgMjg1LjIxOUM0NjQuMDg1IDI5NS4wMjkgNDU5Ljk1OCAzMTkuMDQ0IDQ1OS45NTggMzE5LjA0NEM0NTkuOTU4IDMxOS4wNDQgNDYzLjMxMiAzMzEuOTU1IDQ2My4zMTIgMzQ1LjM3MUM0NjMuMzEyIDM1OC43ODYgNDQ3LjU2NiAzODAuOTkxIDQ0MS42MyAzNzUuNTc0QzQzNS42OTMgMzcwLjE1OCA0NDIuNzM3IDM1Ni4yNzEgNDQyLjczNyAzNTYuMjcxQzQ0MS41NDYgMzQ5Ljc5OCA0MzMuNDc5IDMzNy4yMzggNDMzLjQ3OSAzMzcuMjM4QzQzMy40NzkgMzM3LjIzOCA0MzAuMjU5IDM0My44NzkgNDI3LjE0IDM0Ni4yMjdDNDIyLjU5NSAzNDMuNTQ0IDQxOC4wNjkgMzQyLjY3MiA0MTMuNTI0IDM0MS45NjhINDEyLjI2NkM0MDcuNzIyIDM0Mi42ODkgNDAzLjE5NCAzNDMuNTQ0IDM5OC42NDkgMzQ2LjIyN0MzOTUuNTEzIDM0My44NzkgMzkyLjMxIDMzNy4yMzggMzkyLjMxIDMzNy4yMzhDMzkyLjMxIDMzNy4yMzggMzg0LjI0NCAzNDkuNzk4IDM4My4wNTQgMzU2LjI3MUMzODMuMDU0IDM1Ni4yNzEgMzkwLjA5NSAzNzAuMTU4IDM4NC4xNTkgMzc1LjU3NEMzNzguMjIyIDM4MC45OTEgMzYyLjQ3NiAzNTguNzg2IDM2Mi40NzYgMzQ1LjM3MUMzNjIuNDc2IDMzMS45NTUgMzY1LjgzIDMxOS4wNDQgMzY1LjgzIDMxOS4wNDRDMzY1LjgzIDMxOS4wNDQgMzYxLjcwNiAyOTUuMDI5IDM1NC40NzggMjg1LjIxOUMzNTQuNDc4IDI4NS4yMTkgMzQzLjM3NiAyODMuOTI4IDM0MC4wMjIgMjgxLjg2NUMzMzYuNjY4IDI3OS44MDMgMzI2LjI4NyAyNjMuOTg4IDMyNy40NzggMjUyLjkyQzMyNy40NzggMjUyLjkyIDM1NS43MTggMjY1LjUzMSAzNjcuODA5IDI2Ni4wMzRDMzY3LjgwOSAyNjYuMDM0IDM3NC44NjkgMjgxLjY2MyAzODAuNDIgMjg2LjcxMUMzODAuNDIgMjg2LjcxMSAzODUuOTcxIDI3Mi41OSAzODcuNDggMjY0LjUyNEgzODcuNDI5Wk02MjQuNTg2IDE0MS41MzVMNzAxLjc5IDE3OS4xNjdDNzAxLjc5IDE3OS4xNjcgNzIzLjk1IDIwOS43ODkgNzI2LjUzIDIyMi43MDFDNzI2LjUzIDIyMi43MDEgNzUyLjQgMjM1LjQ5NiA4MTIuNDIgMjc1LjgyN0M4MTIuNDIgMjc1LjgyNyA4MDYuOTQgMjc2LjggODAxLjEyIDI4Ni4xNThDODAxLjEyIDI4Ni4xNTggNzMwLjE0IDI0Ni43ODIgNzEzLjAzIDI0MS45NTJDNzEzLjAzIDI0MS45NTIgNzQxLjc2IDI3My4yNjEgNzg4LjIzIDMwNS41MjZDNzg4LjIzIDMwNS41MjYgNzc0LjY3IDMxMS4wMSA3NjcuNTYgMzE2LjQ5NEM3NjcuNTYgMzE2LjQ5NCA3NTkuODIgMzA1LjUyNyA3NTcuNTUgMzAzLjI2M0M3NTcuNTUgMzAzLjI2MyA3MTkuNDcgMjkzLjU4NyA2OTAuNzYgMjc3LjExOUw3MDYuODkgMjU5LjA0MUM3MDYuODkgMjU5LjA0MSA3MDIuMzggMjU0LjUzIDY5OC44MyAyNTIuOTAzQzY5OC44MyAyNTIuOTAzIDY3My4wMiAyNTAuNjM5IDY2Mi4zNjkgMjUyLjI2NkM2NjIuMzY5IDI1Mi4yNjYgNjUxLjQwMiAyMzUuODE1IDY0OC4xNjUgMjI5LjM1OEM2NDguMTY1IDIyOS4zNTggNjY2LjI0IDIzMi4yNiA2OTQuOTUgMjQzLjIyOEM2OTQuOTUgMjQzLjIyOCA3MTAuMTEgMjM3LjA5IDcxNi41NyAyMjYuMTIyQzcxNi41NyAyMjYuMTIyIDcwMC40NCAxOTkuMDIzIDY5NS4yNyAxOTMuMjA0QzY5NS4yNyAxOTMuMjA0IDY3My42NiAxOTcuMzk2IDY2My4zMjUgMjAxLjU4OEM2NjMuMzI1IDIwMS41ODggNjMxLjM3OSAxNzguMDI3IDYyMS4wNDkgMTc1LjQ0NUM2MjEuMDQ5IDE3NS40NDUgNTk4Ljc3OCAyMTYuMTExIDU4OS4xMDEgMjIzLjUyM0M1ODkuMTAxIDIyMy41MjMgNjEzLjMwMSAyNjUuMTQ2IDYxOS40MzkgMjc2LjEzQzYxOS40MzkgMjc2LjEzIDYwMC40MDYgMzA5LjA0OCA1NzEuOTk4IDMyMS45NDRMNTYxLjk4NSAzMTAuOTc2QzU2MS45ODUgMzEwLjk3NiA1NDkuNDA5IDMzMC45ODIgNTM3LjEzMyAzMzcuMTJDNTM3LjEzMyAzMzcuMTIgNTQ0Ljg4MSAyOTcuNzQ2IDU0MS4zMjYgMjgxLjkzMkM1NDEuMzI2IDI4MS45MzIgNTU3LjEzOSAyODguNzA3IDU2NC44ODcgMjk1LjE2M0M1NjQuODg3IDI5NS4xNjMgNTY5LjM5OCAyMjYuNzQyIDU2Mi4zMDQgMjAwLjkzM0M1NjIuMzA0IDIwMC45MzMgNTQ5LjM5MSAxOTcuMzc5IDU0My4yNyAxOTcuMDZMNTI5LjQwMiAyMjkuNjZDNTI5LjQwMiAyMjkuNjYgNTAzLjQ5MiAyMjAuNTcxIDQ5My45MTcgMjI3LjYzMUM0OTMuOTE3IDIyNy42MzEgNDg3Ljg4IDIyMy40MjIgNDgyLjM5NiAyMjMuNzU4QzQ3Ni45MTIgMjI0LjA3NiA0NTQuMzI1IDIzMS44MjQgNDUwLjc2OSAyMzUuNjk4QzQ0Ny4yMTQgMjM5LjU3MiA0MzguODI5IDI1MC4yMjEgNDM4LjgyOSAyNTAuMjIxQzQzOC44MjkgMjUwLjIyMSA0MjAuNzUyIDIzNi4wMTYgNDE3Ljg1MSAyMjcuNjMxQzQxNS44NzIgMjIxLjk0NiA0MTMuOTA5IDIwNi4yMzQgNDEyLjg1MyAxOTkuOTEyQzQxMS43OTYgMjA2LjIzNCA0MDkuODE2IDIyMS45NDYgNDA3Ljg1NCAyMjcuNjMxQzQwNC45NTMgMjM2LjAxNiAzODYuODc2IDI1MC4yMjEgMzg2Ljg3NiAyNTAuMjIxQzM4Ni44NzYgMjUwLjIyMSAzNzguNDkxIDIzOS41NzIgMzc0LjkzNiAyMzUuNjk4QzM3MS4zOCAyMzEuODI0IDM0OC43OTMgMjI0LjA3NiAzNDMuMzA5IDIyMy43NThDMzM3LjgyNSAyMjMuNDM5IDMzMS43ODggMjI3LjYzMSAzMzEuNzg4IDIyNy42MzFDMzIyLjIxMyAyMjAuNTcxIDI5Ni4zMDMgMjI5LjY2IDI5Ni4zMDMgMjI5LjY2TDI4Mi40MzUgMTk3LjA2QzI3Ni4yOTggMTk3LjM3OSAyNjMuNDAxIDIwMC45MzMgMjYzLjQwMSAyMDAuOTMzQzI1Ni4zMDcgMjI2Ljc0MiAyNjAuODE4IDI5NS4xNjMgMjYwLjgxOCAyOTUuMTYzQzI2OC41NjYgMjg4LjcwNyAyODQuMzc5IDI4MS45MzIgMjg0LjM3OSAyODEuOTMyQzI4MC44MjQgMjk3Ljc0NiAyODguNTcyIDMzNy4xMiAyODguNTcyIDMzNy4xMkMyNzYuMzEzIDMzMC45ODIgMjYzLjcyIDMxMC45NzYgMjYzLjcyIDMxMC45NzZMMjUzLjcwNyAzMjEuOTQ0QzIyNS4zMTYgMzA5LjAzMSAyMDYuMjY2IDI3Ni4xMyAyMDYuMjY2IDI3Ni4xM0MyMTIuNDA0IDI2NS4xNjMgMjM2LjYwNCAyMjMuNTIzIDIzNi42MDQgMjIzLjUyM0MyMjYuOTI3IDIxNi4wOTQgMjA0LjY1NiAxNzUuNDQ1IDIwNC42NTYgMTc1LjQ0NUMxOTQuMzI2IDE3OC4wMjcgMTYyLjM4IDIwMS41ODggMTYyLjM4IDIwMS41ODhDMTUyLjA1IDE5Ny4zOTYgMTMwLjQzNCAxOTMuMjA0IDEzMC40MzQgMTkzLjIwNEMxMjUuMjY5IDE5OS4wMDYgMTA5LjEzNiAyMjYuMTIyIDEwOS4xMzYgMjI2LjEyMkMxMTUuNTkyIDIzNy4wOSAxMzAuNzUzIDI0My4yMjggMTMwLjc1MyAyNDMuMjI4QzE1OS40OCAyMzIuMjYgMTc3LjU0IDIyOS4zNTggMTc3LjU0IDIyOS4zNThDMTc0LjMyIDIzNS44MTUgMTYzLjMzNiAyNTIuMjY2IDE2My4zMzYgMjUyLjI2NkMxNTIuNjg3IDI1MC42NTYgMTI2Ljg3OCAyNTIuOTAzIDEyNi44NzggMjUyLjkwM0MxMjMuMzIzIDI1NC41MTMgMTE4LjgxMyAyNTkuMDQxIDExOC44MTMgMjU5LjA0MUwxMzQuOTQ1IDI3Ny4xMTlDMTA2LjIxOSAyOTMuNTcgNjguMTUxOCAzMDMuMjYzIDY4LjE1MTggMzAzLjI2M0M2NS44ODc4IDMwNS41MjcgNTguMTQwOCAzMTYuNDk0IDU4LjE0MDggMzE2LjQ5NEM1MS4wNDY4IDMxMS4wMSAzNy40Nzk4IDMwNS41MjYgMzcuNDc5OCAzMDUuNTI2QzgzLjk0ODggMjczLjI2MSAxMTIuNjc1IDI0MS45NTIgMTEyLjY3NSAyNDEuOTUyQzk1LjU2OTggMjQ2Ljc5OCAyNC41ODI4IDI4Ni4xNTggMjQuNTgyOCAyODYuMTU4QzE4Ljc4MDggMjc2LjggMTMuMjgxOCAyNzUuODI3IDEzLjI4MTggMjc1LjgyN0M3My4yOTk4IDIzNS40OTYgOTkuMTc1OCAyMjIuNzAxIDk5LjE3NTggMjIyLjcwMUMxMDEuNzU4IDIwOS43ODkgMTIzLjkxMSAxNzkuMTY3IDEyMy45MTEgMTc5LjE2N0wyMDEuMTE5IDE0MS41MzVMMTk1LjQ1MSA0OS45ODk4TDI3OS4zOTkgMTAzLjI4NEwyNzUuOTk0IDEzMC44MDRMMjIzLjUyMiA5Ny40ODIxTDIyNy41OTggMTYzLjI4N0MyMjcuNTk4IDE2My41MzggMjI3LjYxNCAxNjMuODA3IDIyNy42MTQgMTY0LjA1OEMyMzIuMjA5IDE2OC41ODYgMjM1LjY0NyAxNzEuOTA2IDIzNS42NDcgMTcxLjkwNkMyNDUuMjIzIDE3OS45NzIgMjc1Ljk3OCAxODcuNTM2IDI3NS45NzggMTg3LjUzNkMyOTIuMTEgMTcyLjkxMyAzMTYuMTkzIDE2NS4wMzEgMzE2LjE5MyAxNjUuMDMxQzM0NS44NzUgMTU2Ljk2NSA0NzkuNzk3IDE1Ni45NjUgNTA5LjQ5NiAxNjUuMDMxQzUwOS40OTYgMTY1LjAzMSA1MzMuNTc4IDE3Mi45MTMgNTQ5LjcxMSAxODcuNTM2QzU0OS43MTEgMTg3LjUzNiA1ODAuNDY2IDE3OS45NzIgNTkwLjA0MSAxNzEuOTA2QzU5MC4wNDEgMTcxLjkwNiA1OTMuNDc5IDE2OC41ODYgNTk4LjA3NCAxNjQuMDU4QzU5OC4wNzQgMTYzLjgwNyA1OTguMDc0IDE2My41MzggNTk4LjA5MSAxNjMuMjg3TDYwMi4xNjUgOTcuNDgyMUw1NDkuODExIDEzMC43MTlMNTQ2LjQwNiAxMDMuMjAxTDYzMC4yMzggNDkuOTczNEw2MjQuNTU0IDE0MS41MTlMNjI0LjU4NiAxNDEuNTM1Wk04MjUuNiAzMTUuOTA3QzgyNS42IDMxNS45MDcgODEzLjkgMzE2LjcxMiA4MDUuMDMgMzE1LjUwNUw3OTAuMSAzMzQuNDU0Qzc5MC4xIDMzNC40NTQgODEzLjUgMzI5LjYwOCA4MjUuNiAzMTUuOTA3Wk0wLjEzMjgxMiAzMTUuOTA3QzAuMTMyODEyIDMxNS45MDcgMTEuODM4OCAzMTYuNzEyIDIwLjcwOTggMzE1LjUwNUwzNS42MzM4IDMzNC40NTRDMzUuNjMzOCAzMzQuNDU0IDEyLjI0MDggMzI5LjYwOCAwLjEzMjgxMiAzMTUuOTA3Wk00NzYuMTI1IDMwOS40MDFDNDc2LjEyNSAzMDkuNDAxIDQ3OC45NDIgMzIxLjEwNSA0ODkuODQyIDMzMS41ODZMNTA4LjM4OSAyOTMuMjY4QzUwOC4zODkgMjkzLjI2OCA0OTEuODU1IDMwNS4zNzYgNDc2LjEyNSAzMDkuNDAxWk0zNDkuNjE0IDMwOS40MDFDMzQ5LjYxNCAzMDkuNDAxIDM0Ni43OTcgMzIxLjEwNSAzMzUuODk3IDMzMS41ODZMMzE3LjM0OSAyOTMuMjY4QzMxNy4zNDkgMjkzLjI2OCAzMzMuODg0IDMwNS4zNzYgMzQ5LjYxNCAzMDkuNDAxWk01MzguNjc2IDE2My4wMThDNTMxLjM2NCAxNTguNzkyIDUyMC40OTcgMTUyLjMxOSA1MTEuODYxIDE1MC40NDFMNTAwLjg0MyA2MS41MjcxTDQxMi41MTcgMTQzLjE0NUwzMjQuMTkxIDYxLjUyNzFMMzEzLjE3MyAxNDguMjFDMzAyLjkyNiAxNDguNTc5IDI5My43MzcgMTU0LjE0NiAyODcuMDI5IDE1Ny41NUwzMDUuNDQzIDguOTAzOTlMNDEyLjUgMTExLjMzM0w1MTkuNTU4IDguOTAzOTlMNTM4LjY0MiAxNjNMNTM4LjY3NiAxNjMuMDE4Wk01NjkuNjY2IDM3LjkxNTJMNTUyLjg2MyA1My4wMjZMNTUxLjIwMyA3NS41NDcyTDU2OC4wMDUgNjAuNDM4MUw1NjkuNjY2IDM3LjkxNTJaTTI1Ny44IDM3LjI0NTRMMjc0LjYwMiA1Mi4zNTQ1TDI3Ni4yNjMgNzQuODc1N0wyNTkuNDYxIDU5Ljc2NjZMMjU3LjggMzcuMjQ1NFpNNDEyLjc1MyAwQzM5Mi40MjggMCAzNzUuOTQzIDE2LjUwMDEgMzc1Ljk0MyAzNi44MDgyQzM3NS45NDMgNTcuMTE2MyAzOTIuNDQ1IDczLjYxOCA0MTIuNzUzIDczLjYxOEM0MzMuMDYxIDczLjYxOCA0NDkuNTYxIDU3LjExNjMgNDQ5LjU2MSAzNi44MDgyQzQ0OS41NjEgMTYuNTAwMSA0MzMuMDYxIDAgNDEyLjc1MyAwWk00MTIuNzUzIDE3LjI1NjFDNDIzLjU1MiAxNy4yNTYxIDQzMi4zMDUgMjYuMDI1MyA0MzIuMzA1IDM2LjgwODJDNDMyLjMwNSA0Ny41OTExIDQyMy41MzYgNTYuMzYxOSA0MTIuNzUzIDU2LjM2MTlDNDAxLjk3IDU2LjM2MTkgMzkzLjE5OSA0Ny41OTExIDM5My4xOTkgMzYuODA4MkMzOTMuMTk5IDI2LjAyNTMgNDAxLjk3IDE3LjI1NjEgNDEyLjc1MyAxNy4yNTYxWiIgZmlsbD0id2hpdGUiPjwvcGF0aD48L3N2Zz4g
// @supportURL   https://github.com/vvscode/interview-buddy/issues
// @homepageURL  https://github.com/vvscode/interview-buddy
// @updateURL    https://github.com/vvscode/interview-buddy/raw/refs/heads/master/interview-buddy.user.js
// @downloadURL  https://github.com/vvscode/interview-buddy/raw/refs/heads/master/interview-buddy.user.js
// @grant        GM_setClipboard
// ==/UserScript==
(function () {
    "use strict";

    // mask tab switch
    {
        // visibility change
        const documentAddEventListener = document.addEventListener.bind(document);
        document.addEventListener = function addEventListener(event, cb, params) {
            if (event === "visibilitychange") {
                return;
            }
            return documentAddEventListener(event, cb, params);
        };

        // blur events
        const windowAddEventListener = window.addEventListener.bind(window);
        window.addEventListener = function addEventListener(event, cb, params) {
            if (event === "blur" || event === "focus") {
                return;
            }
            return windowAddEventListener(event, cb, params);
        };
    }

    // highlight block and copy text from it
    {
        // Create and apply styles dynamically
        const style = document.createElement("style");
        const className = `highlight_asdfqweafsdfa`;
        style.textContent = `
        .${className} {
            border: 3px solid green;
            position: relative;
            z-index: 100000; /* Ensure it appears above other elements */
        }
    `;
        document.head.appendChild(style);

        let currentElement = null;

        // Track the element under the cursor
        document.addEventListener("mousemove", function (event) {
            const isMetaKeyPressed = event.metaKey || event.ctrlKey;

            // Remove highlight from any previously highlighted element
            if (currentElement) {
                currentElement.classList.remove(className);
                currentElement = null;
            }

            if (!isMetaKeyPressed) {
                return;
            }

            currentElement = document.elementFromPoint(event.clientX, event.clientY);

            if (currentElement) {
                // Add highlight to the current element
                currentElement.classList.add(className);
            }
        });

        // Highlight the element when the Command (or Ctrl) key is pressed
        document.addEventListener(
            "keydown",
            function (event) {
                if (!currentElement) {
                    return;
                }
                const isMetaKeyPressed = event.metaKey || event.ctrlKey;
                const keysToCopy = isMetaKeyPressed && event.altKey;

                if (keysToCopy || !isMetaKeyPressed) {
                    // Only write to clipboard when both meta and alt keys are pressed
                    if (keysToCopy) {
                        GM_setClipboard(currentElement.innerText, "text");
                    }
                    currentElement.classList.remove(className);
                    currentElement = null;
                }
            },
            true,
        );
    }
})();
